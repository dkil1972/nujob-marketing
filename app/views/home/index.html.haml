!!!
%html
  
  %body#top{"data-offset" => "50", "data-spy" => "scroll", "data-target" => ".navbar"}
    / Nav button
    %a#toggle.closed
      %i.icon-reorder{style: "color: white;"}
    
    :javascript
      $(document).ready(function() {
        $('.popup-youtube, .popup-vimeo, .popup-gmaps').magnificPopup({
          disableOn: 0,
          type: 'iframe',
          mainClass: 'mfp-fade',
          removalDelay: 160,
          preloader: false,
          fixedContentPos: false
        });
      });
    :javascript
      $(document).ready(function() {
        ko.bindingHandlers.slider = {
          init: function (element, valueAccessor, allBindingsAccessor) {
            var options = allBindingsAccessor().sliderOptions || {};
            $(element).slider(options);
            ko.utils.registerEventHandler(element, "slidechange", function (event, ui) {
                var observable = valueAccessor();
                observable(ui.value);
            });
            ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
                $(element).slider("destroy");
            });
            ko.utils.registerEventHandler(element, "slide", function (event, ui) {
                var observable = valueAccessor();
                observable(ui.value);
            });
          },
          update: function (element, valueAccessor) {
            var value = ko.utils.unwrapObservable(valueAccessor());
            if (isNaN(value)) value = 0;
            $(element).slider("value", value);
               
          }
        };
        
        
        var ViewModel = function() {
            var self = this;
      
            self.salary = ko.observable(45000);
            self.monthsTaken = ko.observable(1);
            self.recruiterMargin = ko.observable(15);
            self.devs = ko.observable(0);
  
            self.recruiterCost = ko.computed(function() {
              return ((self.salary()/(1-(self.recruiterMargin()/100)))-self.salary())*self.devs();
            });
            self.recruiterCostRounded = ko.computed(function() {
              return Math.round(self.recruiterCost() * 100) / 100;
            });
      
            self.nujobPlan1Cost = ko.computed(function() {
              return (99 * self.monthsTaken());
            });
  
            self.nujobPlan2Cost = ko.computed(function() {
              return (299 * self.monthsTaken());
            });
  
            self.nujobPlan3Cost = ko.computed(function() {
              return (499 * self.monthsTaken());
            });
  
            self.nujobPlan4Cost = ko.computed(function() {
              return (1599 * self.monthsTaken());
            });
  
            self.plan1Saving = ko.computed(function() {
              return self.recruiterCostRounded() - self.nujobPlan1Cost();
            });
  
            self.plan2Saving = ko.computed(function() {
              return self.recruiterCostRounded() - self.nujobPlan2Cost();
            });
  
            self.plan3Saving = ko.computed(function() {
              return self.recruiterCostRounded() - self.nujobPlan3Cost();
            });
  
            self.plan4Saving = ko.computed(function() {
              return self.recruiterCostRounded() - self.nujobPlan4Cost();
            });
        }
  
      
        ko.applyBindings(new ViewModel());     
      });

    
    / Home Page
    #home.page.color-1
      .inner-page
        %h2.page-headline.large{style: "padding-top:20px;"} Hire passionate developers for your team without wasting time sifting through CVs.
        
      .row-fluid.inner-page 
        .span6.pull-right
          / Video
          .btn-container.figurette
            %img{alt: "Play video", src: "/assets/NuJob_HD_Poster-3df31e10d05bdd7e96d46ea8475f3296.png"}/
            %a.lightbox.iframe.btn-play{allowfullscreen: "", frameborder: "0", height: "315", href: "https://vimeo.com/78293639", width: "420"}
              %i.icon-play
        .span6
          %ul
            %strong
              %h4{style: "font-weight: 300"} Benefit from
            %li
              %i.icon-ok
              the collective network of your team
            %li
              %i.icon-ok
              a single powerful view of all hiring sources
            %li
              %i.icon-ok
              the whole team efficiently vetting candidates
            %li
              %i.icon-ok
              owning the contact list (no recruiter premiums)
            %li
              %i.icon-ok
              quality over quantity of developers
          %br/
          %a{href: "#features"}
            %button.btn.scroll{style: "background-color:orange;padding: 0px 20px 40px 20px; margin-left: 10px;", type: "submit"}
              Tell me more
              %i.icon-caret-down
    / Features
    #features.page.color-4
      .inner-page
        %h2.page-headline Recruitment was broken, we've fixed it.
      .inner-page.row-fluid
        %ul.features.list-inline
          %li
            %h3
              %i.icon-cog
              Real developers
            %p We are not trying to be LinkedIn or Facebook. NuJob is about managing real relationships and having a network of real potential developers for current and future roles in your team, it is not a social hangout with status updates or fascinating wall postings.
          %li
            %h3
              %i.icon-heart
              Lead generation
            %p We will match you through LinkedIn, Github, Meetup.com, Stack Overflow and Twitter. All in one place, all with one dashboard, all with one goal - matching the right developers with the right jobs. You won't have to sift through tens of CVs to find the right developer.
          %li
            %h3
              %i.icon-tablet
              Managed process
            %p Know clearly at a glance all of the candidates and which stage in your process they are at. Eg Coding challenge, Phone interview, Face to Face, Made an offer etc. See everything in one place and make the process as easy as it always should have been.
      .row-fluid.inner-page
        .span6
          %img{alt: "pop in and see", src: "/assets/NuJob_HD_Screen-a995aecf81fc039a7c0ffa30da909899.png"}/
        .span6
          %h3 Come in and see how NuJob will improve the way you hire developers.
          %p.lead Your one stop dashboard for hiring developers to work in your team
          %ul.list-wide
            %li
              %i.icon-check
              Save time
            %li
              %i.icon-check
              Hire better developers
            %li
              %i.icon-check
              Capture a real network, not a social one
            %li
              %i.icon-check
              Manage your hiring pipeline with ease
          %a{href: "/signup"}
            %button.btn.btn-centered{style: "background:orange;padding: 0px 20px 40px 20px; width: auto", type: "submit"} Get early access now
    
    #pricing.page.blue-theme{style: "padding-left: 20px; padding-right: 20px; line-height: 20px"}
      .container.text-center
        %h4.heading{style: "padding-top: -20px;"} Start your 60 day trial today
        %p.lead.sub-title No long term contracts. 100% money back guarantee.
        .plans.row.text-center
          .span2
            %h5.plan-name Consultant
            %h2.plan-price{style: "color: #444 ; margin: 10px 0; padding: 0 0 0 0;  display:block !important"} £99
            %span.muted per month
            %ul.unstyled.plan-features{style: "font-size : 14px;"}
              %li 1 hiring manager
              %li 3 open roles
              %li &#8734; hires
            %a.btn.btn-block.btn-large.btn-success{style: "line-height : 20px;" , href: "http://app.nujob.co.uk/users/sign_up?plan=consultant"} Choose Plan
          .span2.preferred-plan
            %h5.plan-name Team
            %h2.plan-price{style: "color: #444 ; margin: 10px 0; padding: 0 0 0 0;  display:block !important"} £299
            %span.muted per month
            %ul.unstyled.plan-features{style: "font-size : 14px; "}
              %li 1 hiring manager
              %li 5 team members
              %li 10 open roles
              %li &#8734; hires
            %a.btn.btn-block.btn-large.btn-success{style: "line-height : 20px;" , href: "http://app.nujob.co.uk/users/sign_up?plan=team"} Choose Plan
          .span2
            %h5.plan-name Programme Manager
            %h2.plan-price{style: "color: #444 ; margin: 10px 0; padding: 0 0 0 0;  display:block !important"} £499
            %span.muted per month
            %ul.unstyled.plan-features{style: "font-size : 14px;"}
              %li 3 hiring managers
              %li 40 team members
              %li 30 open roles
              %li &#8734; hires
            %a.btn.btn-block.btn-large.btn-success{style: "line-height : 20px;" , href: "http://app.nujob.co.uk/users/sign_up?plan=Programme%20Manager"} Choose Plan
          .span2
            %h5.plan-name HR Department
            %h2.plan-price{style: "color: #444 ; margin: 10px 0; padding: 0 0 0 0;  display:block !important"} £1599
            %span.muted per month
            %ul.unstyled.plan-features{style: "font-size : 14px;"}
              %li &#8734; hiring managers
              %li &#8734; team members
              %li &#8734; open roles
              %li &#8734; hires
            %a.btn.btn-block.btn-large.btn-success{style: "line-height : 20px;" , href: "http://app.nujob.co.uk/users/sign_up?plan=HR%20Department"} Choose Plan
        %p.lead.sub-title{style: "padding-bottom:30px;"} All plans give access to the full leads network and the full CRM capability.
        %h2{style: "padding-top: 60px; font-family: 'Noto Sans', sans-serif;"} Recruiters vs NuJob
        %p
          Average salary:  £
          %input{"data-bind" => "value: salary"}/
          Average recruiter margin:
          = succeed "%" do
            %input{"data-bind" => "value: recruiterMargin", style: "width:50px"}/
        %p{style: "padding-bottom: 20px;padding-top: 20px;"}
          Number of developers you need to hire:
          %input{"data-bind" => "value: devs, valueUpdate: 'afterkeydown'"}/
        %div{"data-bind" => "slider: devs, sliderOptions: {min: 0, max: 40, range: 'min', step: 1}", style: "margin: 10px"}
        
        %p{style: "padding-bottom: 20px;padding-top: 20px;"} 
          Number of months it might take:
          %input{"data-bind" => "value: monthsTaken, valueUpdate: 'afterkeydown'"}/
        %div{"data-bind" => "slider: monthsTaken, sliderOptions: {min: 1, max: 24, range: 'min', step: 1}", style: "margin: 10px"}
        %p{style: "padding-top: 20px;"}
          Total cost with a Recruiter: £
          %span{"data-bind" => "text: recruiterCostRounded"}
        %p
          Total cost with NuJob plan 1: £
          %span{"data-bind" => "text: nujobPlan1Cost"}
          (Saving of
          = succeed ")" do
            %b
              \£
              %span{"data-bind" => "text: plan1Saving"}
        %p
          Total cost with NuJob plan 2: £
          %span{"data-bind" => "text: nujobPlan2Cost"}
          (Saving of
          = succeed ")" do
            %b
              \£
              %span{"data-bind" => "text: plan2Saving"}
        %p
          Total cost with NuJob plan 3: £
          %span{"data-bind" => "text: nujobPlan3Cost"}
          (Saving of
          = succeed ")" do
            %b
              \£
              %span{"data-bind" => "text: plan3Saving"}
        %p{style: "padding-bottom: 30px"}
          Total cost with NuJob plan 4: £
          %span{"data-bind" => "text: nujobPlan4Cost"}
          (Saving of
          = succeed ")" do
            %b
              \£
              %span{"data-bind" => "text: plan4Saving"}       
          